(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{9510:function(e,r,l){Promise.resolve().then(l.bind(l,7124))},7124:function(e,r,l){"use strict";l.r(r),l.d(r,{default:function(){return GalleryPage}});var s=l(7437),t=l(2265),n=l(4033);function GalleryPage(){let e=(0,n.useRouter)(),[r,l]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,c]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let handleScroll=()=>{h(window.scrollY>50)};return window.addEventListener("scroll",handleScroll),async function(){i(!0);try{let e=await fetch("/api/drive/catalogo"),r=await e.text();try{let e=JSON.parse(r);l(Array.isArray(e)?e:[])}catch(e){throw console.error("JSON Parse Error. Raw response:",r),Error("Invalid JSON response from server")}}catch(e){console.error("Error loading catalogue:",e)}finally{i(!1)}}(),()=>window.removeEventListener("scroll",handleScroll)},[]);let u=r[0],handleItemClick=e=>{"folder"===e.type?window.open(e.original,"_blank"):c(e)},handleLogout=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/register"),e.refresh()}catch(e){console.error("Logout failed",e)}};return(0,s.jsxs)("main",{children:[(0,s.jsxs)("header",{className:"header ".concat(d?"scrolled":""),style:{zIndex:110},children:[(0,s.jsx)("h1",{style:{color:"var(--netflix-red)",margin:0},children:"EINFLIX"}),(0,s.jsx)("button",{onClick:handleLogout,className:"btn",style:{backgroundColor:"var(--netflix-red)",color:"white",padding:"6px 15px",fontSize:"0.9rem",marginLeft:"auto",cursor:"pointer",zIndex:120},children:"Cerrar Sesi\xf3n"})]}),!a&&u&&(0,s.jsxs)("div",{className:"hero",children:[(0,s.jsx)("img",{src:u.thumbnail.includes("unsplash")?u.thumbnail.replace("w=800","w=1600"):u.thumbnail,alt:"Featured",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,s.jsxs)("div",{className:"hero-content",children:[(0,s.jsx)("h2",{className:"hero-title",children:"EINFLIX : COLECCION DE ENLACES"}),(0,s.jsx)("p",{className:"hero-desc",children:"DESCUBRE CONTENIDO EXCLUSIVO EN LA NUBE, REPRODUCCION INSTANTANEA DE CALIDAD."})]})]}),(0,s.jsx)("div",{className:"container",style:{position:"relative",marginTop:a?"100px":"-50px"},children:(0,s.jsxs)("section",{className:"grid-section",children:[(0,s.jsx)("h3",{className:"grid-title",children:"Mi Lista"}),(0,s.jsx)("div",{className:"grid",children:a?Array(12).fill(0).map((e,r)=>(0,s.jsx)("div",{className:"card",style:{opacity:.3}},r)):r.map(e=>(0,s.jsxs)("div",{className:"card",onClick:()=>handleItemClick(e),children:[(0,s.jsx)("img",{src:e.thumbnail,alt:e.title,loading:"lazy"}),(0,s.jsx)("div",{className:"card-info",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,s.jsx)("span",{className:"badge",style:{alignSelf:"flex-start",marginBottom:"4px"},children:e.category}),(0,s.jsx)("span",{style:{fontSize:"1rem",fontWeight:600,lineHeight:"1.2"},children:e.title}),(0,s.jsx)("span",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"4px"},children:"folder"===e.type?"\uD83D\uDCC1 Ver Carpeta":"\uD83C\uDFAC Reproducir"})]})})]},e.id))})]})}),o&&(0,s.jsx)("div",{className:"modal",onClick:()=>c(null),children:(0,s.jsxs)("div",{className:"inner",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"close-btn",onClick:()=>c(null),children:"âœ•"}),(0,s.jsx)("div",{className:"video-container",children:(0,s.jsx)("iframe",{src:o.preview,title:o.title,allow:"autoplay; fullscreen",allowFullScreen:!0})}),(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsx)("h2",{className:"modal-title",children:o.title}),(0,s.jsxs)("div",{className:"modal-meta",children:[(0,s.jsx)("span",{style:{color:"#46d369",fontWeight:700},children:"98% de coincidencia"}),(0,s.jsx)("span",{children:"2024"}),(0,s.jsx)("span",{style:{border:"1px solid #777",padding:"0 4px",fontSize:"0.8rem"},children:"HD"})]}),(0,s.jsx)("p",{style:{lineHeight:1.5,fontSize:"1.1rem"},children:o.description})]})]})})]})}},622:function(e,r,l){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=l(2265),t=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,r,l){var s,o={},c=null,d=null;for(s in void 0!==l&&(c=""+l),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)n.call(r,s)&&!i.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===o[s]&&(o[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:d,props:o,_owner:a.current}}r.jsx=q,r.jsxs=q},7437:function(e,r,l){"use strict";e.exports=l(622)},4033:function(e,r,l){e.exports=l(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=9510)}),_N_E=e.O()}]);