(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{2502:function(e,n,t){Promise.resolve().then(t.bind(t,9287))},9287:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return PaymentPage}});var o=t(7437),l=t(2265),i=t(4033),r=t(1396),a=t.n(r);function PaymentPage(){let[e,n]=(0,l.useState)(!1),[t,r]=(0,l.useState)(""),[s,c]=(0,l.useState)("monthly");(0,i.useRouter)();let handlePayment=async e=>{n(!0),r("");let t="monthly"===s?e.price.monthly:e.price.yearly,o="Suscripci\xf3n ".concat(e.name," (").concat("monthly"===s?"Mensual":"Anual",")");try{let l=await fetch("/api/auth/payment/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,title:o,planType:e.id,duration:s})}),i=await l.json();i.init_point?window.location.href=i.init_point:(r("No se pudo iniciar el pago. Revisa la consola."),n(!1))}catch(e){r("Error al conectar con la pasarela de pago"),n(!1)}};return(0,o.jsxs)("div",{className:"login-wrapper",children:[(0,o.jsx)("div",{className:"login-backdrop"}),(0,o.jsx)("header",{className:"header",style:{position:"absolute",background:"transparent",zIndex:10},children:(0,o.jsx)("h1",{style:{color:"#e50914",fontSize:"2.5rem",fontWeight:"bold"},children:"EINFLIX"})}),(0,o.jsxs)("div",{className:"login-container",style:{textAlign:"center",maxWidth:"1000px",width:"95%",padding:"40px 20px"},children:[(0,o.jsx)("h2",{style:{marginBottom:"10px",fontSize:"2rem"},children:"Elige tu Plan"}),(0,o.jsx)("p",{style:{color:"#ccc",marginBottom:"30px",fontSize:"1.1rem"},children:"Selecciona el plan perfecto para ti."}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"40px"},children:[(0,o.jsx)("button",{onClick:()=>c("monthly"),className:"btn ".concat("monthly"===s?"btn-red":"btn-dark"),style:{padding:"10px 20px",border:"monthly"===s?"none":"1px solid #555"},children:"Mensual"}),(0,o.jsx)("button",{onClick:()=>c("yearly"),className:"btn ".concat("yearly"===s?"btn-red":"btn-dark"),style:{padding:"10px 20px",border:"yearly"===s?"none":"1px solid #555"},children:"Anual (Ahorra ~2 meses)"})]}),(0,o.jsx)("div",{className:"plans-grid",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px"},children:[{id:"basic",name:"Einflix B\xe1sico",desc:"S\xf3lo Libros",price:{monthly:1e3,yearly:1e4},features:["Acceso a Biblioteca","S\xf3lo Texto"]},{id:"medium",name:"Einflix Medium",desc:"Pel\xedculas y Series",price:{monthly:2500,yearly:25e3},features:["Pel\xedculas","Series","Calidad HD"]},{id:"total",name:"Einflix Total",desc:"Todo incluido",price:{monthly:3e3,yearly:3e4},features:["Todo el cat\xe1logo","M\xfasica y Karaoke","Calidad 4K","Soporte Prioritario"],recommended:!0}].map(n=>(0,o.jsxs)("div",{style:{backgroundColor:n.recommended?"rgba(229, 9, 20, 0.1)":"rgba(0,0,0,0.7)",border:n.recommended?"2px solid #e50914":"1px solid #333",borderRadius:"8px",padding:"30px",flex:"1 1 280px",maxWidth:"320px",display:"flex",flexDirection:"column"},children:[n.recommended&&(0,o.jsx)("span",{style:{color:"#e50914",fontWeight:"bold",marginBottom:"10px",display:"block"},children:"RECOMENDADO"}),(0,o.jsx)("h3",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:n.name}),(0,o.jsx)("p",{style:{color:"#aaa",minHeight:"40px"},children:n.desc}),(0,o.jsxs)("div",{style:{margin:"20px 0"},children:[(0,o.jsxs)("span",{style:{fontSize:"2.5rem",fontWeight:"bold"},children:["$",("monthly"===s?n.price.monthly:n.price.yearly).toLocaleString("es-CL")]}),(0,o.jsxs)("span",{style:{color:"#777"},children:[" / ","monthly"===s?"mes":"a\xf1o"]})]}),(0,o.jsx)("ul",{style:{listStyle:"none",padding:0,marginBottom:"30px",textAlign:"left",flexGrow:1},children:n.features.map((e,n)=>(0,o.jsxs)("li",{style:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[(0,o.jsx)("span",{style:{color:"#e50914",marginRight:"10px"},children:"âœ“"})," ",e]},n))}),(0,o.jsx)("button",{onClick:()=>handlePayment(n),className:"login-btn",disabled:e,style:{width:"100%",marginTop:"auto"},children:e?"Cargando...":"Elegir Plan"})]},n.id))}),t&&(0,o.jsx)("div",{className:"error-message",style:{marginTop:"20px"},children:t}),(0,o.jsx)("div",{className:"login-footer",style:{marginTop:"40px"},children:(0,o.jsx)(a(),{href:"/login",style:{color:"#737373",textDecoration:"none"},children:"Volver al inicio"})})]})]})}},622:function(e,n,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=t(2265),l=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function q(e,n,t){var o,s={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,o)&&!a.hasOwnProperty(o)&&(s[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps)void 0===s[o]&&(s[o]=n[o]);return{$$typeof:l,type:e,key:c,ref:d,props:s,_owner:r.current}}n.jsx=q,n.jsxs=q},7437:function(e,n,t){"use strict";e.exports=t(622)},1396:function(e,n,t){e.exports=t(8326)},4033:function(e,n,t){e.exports=t(94)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=2502)}),_N_E=e.O()}]);