"use strict";exports.id=792,exports.ids=[792],exports.modules={38258:(e,r,n)=>{n.d(r,{Z:()=>a});var o=n(11185);let s=process.env.MONGO_URI;if(!s)throw Error("Please define the MONGO_URI environment variable inside .env.local");let t=global.mongoose;async function dbConnect(){if(t.conn)return t.conn;t.promise||(t.promise=o.connect(s,{bufferCommands:!1}).then(e=>e));try{t.conn=await t.promise}catch(e){throw t.promise=null,e}return t.conn}t||(t=global.mongoose={conn:null,promise:null});let a=dbConnect},71409:(e,r,n)=>{n.d(r,{Z:()=>a});var o=n(11185),s=n(45764);let t=new o.Schema({name:{type:String,required:[!0,"Por favor, ingresa un nombre"]},email:{type:String,required:[!0,"Por favor, ingresa un correo"],unique:!0,lowercase:!0},password:{type:String,required:[!0,"Por favor, ingresa una contrase\xf1a"],minlength:6},resetToken:String,resetTokenExpiry:Date,isPaid:{type:Boolean,default:!1},subscriptionExpiry:Date},{timestamps:!0});t.pre("save",async function(e){if(!this.isModified("password"))return e();let r=await s.ZP.genSalt(10);this.password=await s.ZP.hash(this.password,r),e()}),t.methods.comparePassword=async function(e){return await s.ZP.compare(e,this.password)};let a=o.models.User||o.model("User",t)}};