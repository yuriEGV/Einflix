"use strict";exports.id=792,exports.ids=[792],exports.modules={38258:(o,e,n)=>{n.d(e,{Z:()=>i});var r=n(11185);let t=process.env.MONGO_URI;if(!t)throw Error("Please define the MONGO_URI environment variable inside .env.local");let s=global.mongoose;async function dbConnect(){if(console.log("[MongoDB] dbConnect called"),s.conn)return console.log("[MongoDB] Using cached connection"),s.conn;s.promise||(console.log("[MongoDB] Linking new connection..."),console.log("[MongoDB] URI:",t?t.substring(0,10)+"...":"UNDEFINED"),s.promise=r.connect(t,{bufferCommands:!1}).then(o=>(console.log("[MongoDB] Connection promise resolved"),o)).catch(o=>{throw console.error("[MongoDB] Connection promise REJECTED:",o),o}));try{console.log("[MongoDB] Awaiting connection..."),s.conn=await s.promise,console.log("[MongoDB] Connection established")}catch(o){throw console.error("[MongoDB] Connection FAILED in await:",o),s.promise=null,o}return s.conn}s||(s=global.mongoose={conn:null,promise:null});let i=dbConnect},71409:(o,e,n)=>{n.d(e,{Z:()=>s});var r=n(11185);n(45764);let t=new r.Schema({name:{type:String,required:[!0,"Por favor, ingresa un nombre"]},email:{type:String,required:[!0,"Por favor, ingresa un correo"],unique:!0,lowercase:!0},password:{type:String,required:[!0,"Por favor, ingresa una contrase\xf1a"],minlength:6},resetToken:String,resetTokenExpiry:Date,isPaid:{type:Boolean,default:!1},subscriptionExpiry:Date},{timestamps:!0});t.methods.comparePassword=async function(o){let e=await Promise.resolve().then(n.bind(n,45764));return await e.compare(o,this.password)};let s=r.models.User||r.model("User",t)}};