(()=>{var e={};e.id=928,e.ids=[928],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},58386:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var l=t(67096),s=t(16132),a=t(37284),i=t.n(a),n=t(32564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let c=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50157)),"C:\\einflix\\app\\gallery\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,83497)),"C:\\einflix\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\einflix\\app\\gallery\\page.jsx"],p="/gallery/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new l.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52467:(e,r,t)=>{Promise.resolve().then(t.bind(t,29230))},29230:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>GalleryPage});var l=t(30784),s=t(9885);function GalleryPage(){let[e,r]=(0,s.useState)([]),[t,a]=(0,s.useState)(!0),[i,n]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let handleScroll=()=>{c(window.scrollY>50)};return window.addEventListener("scroll",handleScroll),async function(){a(!0);try{let e=await fetch("/api/drive/catalogo"),t=await e.text();try{let e=JSON.parse(t);r(Array.isArray(e)?e:[])}catch(e){throw console.error("JSON Parse Error. Raw response:",t),Error("Invalid JSON response from server")}}catch(e){console.error("Error loading catalogue:",e)}finally{a(!1)}}(),()=>window.removeEventListener("scroll",handleScroll)},[]);let d=e[0],handleItemClick=e=>{"folder"===e.type?window.open(e.original,"_blank"):n(e)},handleLogout=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),router.push("/login"),router.refresh()}catch(e){console.error("Logout failed",e)}};return(0,l.jsxs)("main",{children:[(0,l.jsxs)("header",{className:`header ${o?"scrolled":""}`,style:{zIndex:110},children:[l.jsx("h1",{style:{color:"var(--netflix-red)",margin:0},children:"EINFLIX"}),l.jsx("button",{onClick:handleLogout,className:"btn",style:{backgroundColor:"var(--netflix-red)",color:"white",padding:"6px 15px",fontSize:"0.9rem",marginLeft:"auto",cursor:"pointer",zIndex:120},children:"Cerrar Sesi\xf3n"})]}),!t&&d&&(0,l.jsxs)("div",{className:"hero",children:[l.jsx("img",{src:d.thumbnail.includes("unsplash")?d.thumbnail.replace("w=800","w=1600"):d.thumbnail,alt:"Featured",style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,l.jsxs)("div",{className:"hero-content",children:[l.jsx("h2",{className:"hero-title",children:"EINFLIX : COLECCION DE ENLACES"}),l.jsx("p",{className:"hero-desc",children:"DESCUBRE CONTENIDO EXCLUSIVO EN LA NUBE, REPRODUCCION INSTANTANEA DE CALIDAD."})]})]}),l.jsx("div",{className:"container",style:{position:"relative",marginTop:t?"100px":"-50px"},children:(0,l.jsxs)("section",{className:"grid-section",children:[l.jsx("h3",{className:"grid-title",children:"Mi Lista"}),l.jsx("div",{className:"grid",children:t?Array(12).fill(0).map((e,r)=>l.jsx("div",{className:"card",style:{opacity:.3}},r)):e.map(e=>(0,l.jsxs)("div",{className:"card",onClick:()=>handleItemClick(e),children:[l.jsx("img",{src:e.thumbnail,alt:e.title,loading:"lazy"}),l.jsx("div",{className:"card-info",children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[l.jsx("span",{className:"badge",style:{alignSelf:"flex-start",marginBottom:"4px"},children:e.category}),l.jsx("span",{style:{fontSize:"1rem",fontWeight:600,lineHeight:"1.2"},children:e.title}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"4px"},children:"folder"===e.type?"\uD83D\uDCC1 Ver Carpeta":"\uD83C\uDFAC Reproducir"})]})})]},e.id))})]})}),i&&l.jsx("div",{className:"modal",onClick:()=>n(null),children:(0,l.jsxs)("div",{className:"inner",onClick:e=>e.stopPropagation(),children:[l.jsx("button",{className:"close-btn",onClick:()=>n(null),children:"âœ•"}),l.jsx("div",{className:"video-container",children:l.jsx("iframe",{src:i.preview,title:i.title,allow:"autoplay; fullscreen",allowFullScreen:!0})}),(0,l.jsxs)("div",{className:"modal-content",children:[l.jsx("h2",{className:"modal-title",children:i.title}),(0,l.jsxs)("div",{className:"modal-meta",children:[l.jsx("span",{style:{color:"#46d369",fontWeight:700},children:"98% de coincidencia"}),l.jsx("span",{children:"2024"}),l.jsx("span",{style:{border:"1px solid #777",padding:"0 4px",fontSize:"0.8rem"},children:"HD"})]}),l.jsx("p",{style:{lineHeight:1.5,fontSize:"1.1rem"},children:i.description})]})]})})]})}t(57114)},50157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var l=t(95153);let s=(0,l.createProxy)(String.raw`C:\einflix\app\gallery\page.jsx`),{__esModule:a,$$typeof:i}=s,n=s.default,o=n},30784:(e,r,t)=>{"use strict";e.exports=t(10316).vendored["react-ssr"].ReactJsxRuntime},57114:(e,r,t)=>{e.exports=t(4979)}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[472,137],()=>__webpack_exec__(58386));module.exports=t})();