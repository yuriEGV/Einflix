(()=>{var e={};e.id=928,e.ids=[928],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},58386:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=t(67096),a=t(16132),l=t(37284),n=t.n(l),i=t(32564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let c=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50157)),"C:\\einflix\\app\\gallery\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,83497)),"C:\\einflix\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\einflix\\app\\gallery\\page.jsx"],p="/gallery/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52467:(e,r,t)=>{Promise.resolve().then(t.bind(t,29230))},29230:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>GalleryPage});var s=t(30784),a=t(9885),l=t(57114);function GalleryPage(){let e=(0,l.useRouter)(),[r,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let handleScroll=()=>{p(window.scrollY>50)};return window.addEventListener("scroll",handleScroll),async function(){i(!0);try{let e=await fetch("/api/drive/catalogo"),r=await e.text();try{let e=JSON.parse(r);t(Array.isArray(e)?e:[])}catch(e){throw console.error("JSON Parse Error. Raw response:",r),Error("Invalid JSON response from server")}}catch(e){console.error("Error loading catalogue:",e)}finally{i(!1)}}(),()=>window.removeEventListener("scroll",handleScroll)},[]);let u=r[0],handleItemClick=e=>{"folder"===e.type?window.open(e.original,"_blank"):c(e)},handleLogout=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/register"),e.refresh()}catch(e){console.error("Logout failed",e)}};return(0,s.jsxs)("main",{children:[(0,s.jsxs)("header",{className:`header ${d?"scrolled":""}`,style:{zIndex:110},children:[s.jsx("h1",{style:{color:"var(--netflix-red)",margin:0},children:"EINFLIX"}),s.jsx("button",{onClick:handleLogout,className:"btn",style:{backgroundColor:"var(--netflix-red)",color:"white",padding:"6px 15px",fontSize:"0.9rem",marginLeft:"auto",cursor:"pointer",zIndex:120},children:"Cerrar Sesi\xf3n"})]}),!n&&u&&(0,s.jsxs)("div",{className:"hero",children:[s.jsx("img",{src:u.thumbnail.includes("unsplash")?u.thumbnail.replace("w=800","w=1600"):u.thumbnail,alt:"Featured",crossOrigin:"anonymous",onError:e=>{e.target.onerror=null,e.target.src="https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85?q=80&w=1600&auto=format&fit=crop",e.target.style.opacity="0.5"},style:{width:"100%",height:"100%",objectFit:"cover"}}),(0,s.jsxs)("div",{className:"hero-content",children:[s.jsx("h2",{className:"hero-title",children:"EINFLIX : COLECCION DE ENLACES"}),s.jsx("p",{className:"hero-desc",children:"DESCUBRE CONTENIDO EXCLUSIVO EN LA NUBE, REPRODUCCION INSTANTANEA DE CALIDAD."})]})]}),s.jsx("div",{className:"container",style:{position:"relative",marginTop:n?"100px":"-50px"},children:(0,s.jsxs)("section",{className:"grid-section",children:[s.jsx("h3",{className:"grid-title",children:"Mi Lista"}),s.jsx("div",{className:"grid",children:n?Array(12).fill(0).map((e,r)=>s.jsx("div",{className:"card",style:{opacity:.3}},r)):r.map(e=>(0,s.jsxs)("div",{className:"card",onClick:()=>handleItemClick(e),children:[s.jsx("img",{src:e.thumbnail,alt:e.title,loading:"lazy",crossOrigin:"anonymous",onError:e=>{e.target.onerror=null,e.target.src="https://images.unsplash.com/photo-1485846234645-a62644f84728?q=80&w=400&auto=format&fit=crop",e.target.style.filter="grayscale(100%) brightness(50%)"}}),s.jsx("div",{className:"card-info",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[s.jsx("span",{className:"badge",style:{alignSelf:"flex-start",marginBottom:"4px"},children:e.category}),s.jsx("span",{style:{fontSize:"1rem",fontWeight:600,lineHeight:"1.2"},children:e.title}),s.jsx("span",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"4px"},children:"folder"===e.type?"\uD83D\uDCC1 Ver Carpeta":"\uD83C\uDFAC Reproducir"})]})})]},e.id))})]})}),o&&s.jsx("div",{className:"modal",onClick:()=>c(null),children:(0,s.jsxs)("div",{className:"inner",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:()=>c(null),children:"âœ•"}),s.jsx("div",{className:"video-container",children:s.jsx("iframe",{src:o.preview,title:o.title,allow:"autoplay; fullscreen",allowFullScreen:!0})}),(0,s.jsxs)("div",{className:"modal-content",children:[s.jsx("h2",{className:"modal-title",children:o.title}),(0,s.jsxs)("div",{className:"modal-meta",children:[s.jsx("span",{style:{color:"#46d369",fontWeight:700},children:"98% de coincidencia"}),s.jsx("span",{children:"2024"}),s.jsx("span",{style:{border:"1px solid #777",padding:"0 4px",fontSize:"0.8rem"},children:"HD"})]}),s.jsx("p",{style:{lineHeight:1.5,fontSize:"1.1rem"},children:o.description})]})]})})]})}},50157:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>l,default:()=>o});var s=t(95153);let a=(0,s.createProxy)(String.raw`C:\einflix\app\gallery\page.jsx`),{__esModule:l,$$typeof:n}=a,i=a.default,o=i},30784:(e,r,t)=>{"use strict";e.exports=t(10316).vendored["react-ssr"].ReactJsxRuntime},57114:(e,r,t)=>{e.exports=t(4979)}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[472,137],()=>__webpack_exec__(58386));module.exports=t})();