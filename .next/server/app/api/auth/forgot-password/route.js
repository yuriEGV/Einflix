"use strict";(()=>{var e={};e.id=118,e.ids=[118],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},76936:(e,o,r)=>{r.r(o),r.d(o,{headerHooks:()=>g,originalPathname:()=>f,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>w});var s={};r.r(s),r.d(s,{POST:()=>POST}),r(78976);var t=r(10884),a=r(16132),n=r(38258),i=r(71409),u=r(6113);function jsonResponse(e,o=200){return new Response(JSON.stringify(e),{status:o,headers:{"Content-Type":"application/json"}})}async function POST(e){try{await (0,n.Z)();let{email:o}=await e.json(),r=await i.Z.findOne({email:o.toLowerCase()});if(!r)return jsonResponse({success:!1,message:"No existe una cuenta con este correo"},404);let s=u.randomBytes(32).toString("hex"),t=Date.now()+36e5;return r.resetToken=s,r.resetTokenExpiry=t,await r.save(),jsonResponse({success:!0,message:"Se ha enviado un correo de recuperaci\xf3n",token:s})}catch(e){return console.error("Forgot Password Error:",e),jsonResponse({success:!1,message:"Error al procesar la solicitud"},500)}}let p=new t.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/forgot-password/route",pathname:"/api/auth/forgot-password",filename:"route",bundlePath:"app/api/auth/forgot-password/route"},resolvedPagePath:"C:\\einflix\\app\\api\\auth\\forgot-password\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:g,staticGenerationBailout:w}=p,f="/api/auth/forgot-password/route"}};var o=require("../../../../webpack-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),r=o.X(0,[364,764,792],()=>__webpack_exec__(76936));module.exports=r})();