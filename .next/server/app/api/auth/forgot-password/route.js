"use strict";(()=>{var e={};e.id=118,e.ids=[118],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},76936:(e,r,o)=>{o.r(r),o.d(r,{headerHooks:()=>w,originalPathname:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>x});var t={};o.r(t),o.d(t,{POST:()=>POST}),o(78976);var a=o(10884),s=o(16132),n=o(95798),i=o(38258),u=o(71409),p=o(6113);async function POST(e){try{await (0,i.Z)();let{email:r}=await e.json(),o=await u.Z.findOne({email:r.toLowerCase()});if(!o)return n.json({success:!1,message:"Si el correo est\xe1 registrado, recibir\xe1s un enlace"},{status:200});let t=p.randomBytes(32).toString("hex");return o.resetToken=t,o.resetTokenExpiry=Date.now()+36e5,await o.save(),console.log(`Reset Token para ${r}: ${t}`),n.json({success:!0,message:"Se ha enviado un enlace de recuperaci\xf3n a tu correo"})}catch(e){return console.error("Forgot Password Error:",e),n.json({success:!1,message:"Error al procesar la solicitud"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/auth/forgot-password/route",pathname:"/api/auth/forgot-password",filename:"route",bundlePath:"app/api/auth/forgot-password/route"},resolvedPagePath:"C:\\einflix\\app\\api\\auth\\forgot-password\\route.js",nextConfigOutput:"",userland:t}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:g,headerHooks:w,staticGenerationBailout:x}=c,m="/api/auth/forgot-password/route"}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),o=r.X(0,[364,798,764,792],()=>__webpack_exec__(76936));module.exports=o})();