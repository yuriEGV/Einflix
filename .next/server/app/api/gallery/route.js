"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},71017:e=>{e.exports=require("path")},69096:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>d,originalPathname:()=>m,requestAsyncStorage:()=>u,routeModule:()=>s,serverHooks:()=>c,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>g});var o={};t.r(o),t.d(o,{GET:()=>GET}),t(78976);var i=t(10884),n=t(16132);let a=require("fs/promises");var l=t(71017);function extractDriveId(e){if(!e)return null;let r=e.match(/[\w-]{25,}/);return r?r[0]:null}async function GET(e){try{let e=l.join(process.cwd(),"data","drive_links.txt"),r=await a.readFile(e,"utf8"),t=r.split(/\r?\n/).map(e=>e.trim()).filter(Boolean),o=t.map(e=>{let r=function(e){if(!e)return"unknown";let r=e.toLowerCase();return r.match(/\.(jpg|jpeg|png|gif|webp|bmp|svg)(\?|$)/)?"image":r.match(/\.(mp4|webm|ogg|mov|mkv)(\?|$)/)?"video":e.includes("drive.google.com")?"drive":"other"}(e),t=e.includes("drive.google.com")?function(e){let r=extractDriveId(e);return r?`https://drive.google.com/uc?export=view&id=${r}`:e}(e):e,o=e.includes("drive.google.com")?function(e){let r=extractDriveId(e);return r?`https://drive.google.com/file/d/${r}/preview`:e}(e):e;return{original:e,type:r,src:t,preview:o}});return new Response(JSON.stringify({items:o}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("API /api/gallery error:",e),new Response(JSON.stringify({error:"No se pudo leer drive_links.txt"}),{status:500,headers:{"Content-Type":"application/json"}})}}let s=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/gallery/route",pathname:"/api/gallery",filename:"route",bundlePath:"app/api/gallery/route"},resolvedPagePath:"C:\\einflix\\app\\api\\gallery\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:c,headerHooks:d,staticGenerationBailout:g}=s,m="/api/gallery/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[364],()=>__webpack_exec__(69096));module.exports=t})();