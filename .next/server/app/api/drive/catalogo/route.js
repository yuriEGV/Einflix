"use strict";(()=>{var e={};e.id=261,e.ids=[261],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},20583:(e,t,o)=>{o.r(t),o.d(t,{headerHooks:()=>h,originalPathname:()=>g,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>u,staticGenerationBailout:()=>f});var i={};o.r(i),o.d(i,{GET:()=>GET,dynamic:()=>p}),o(78976);var r=o(10884),a=o(16132),s=o(95798),l=o(57147),n=o(71017);let p="force-dynamic";async function GET(){try{let e=[n.join(process.cwd(),"data","drive_links.txt"),n.join(process.cwd(),"backend","data","drive_links.txt"),n.join(process.cwd(),"frontend","data","drive_links.txt")],t=null;for(let o of e)if(l.existsSync(o)){t=o;break}if(!t)return s.json({error:"Archivo de enlaces no encontrado"},{status:404});let o=l.readFileSync(t,"utf8"),i=o.split("\n").filter(e=>e.trim()),r=i.map(e=>{let t=e.split("|").map(e=>e.trim()),o=t[0]||"",i=o.match(/[-\w]{25,}/),r=i?i[0]:null;return r?{id:r,title:t[1]||`Contenido ${r.slice(0,6)}`,tags:t[2]?[t[2]]:[],cover:t[3]||null,description:t[4]||"Sin descripci\xf3n disponible.",folderUrl:o}:null}).filter(Boolean),a={pelicula:"https://images.unsplash.com/photo-1485846234645-a62644f84728?w=800&q=80",serie:"https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?w=800&q=80",anime:"https://images.unsplash.com/photo-1578632738980-433120152918?w=800&q=80",novedades:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",maratón:"https://images.unsplash.com/photo-1517604931442-7e0c8ed2963c?w=800&q=80",favoritos:"https://images.unsplash.com/photo-1478720568477-152d9b164e26?w=800&q=80",colección:"https://images.unsplash.com/photo-1461360370896-922624d12aa1?w=800&q=80",streaming:"https://images.unsplash.com/photo-1593784991095-a205069470b6?w=800&q=80",premium:"https://images.unsplash.com/photo-1550745165-9bc0b25272a7?w=800&q=80",biblioteca:"https://images.unsplash.com/photo-1507014498014-97050e8902f2?w=800&q=80",galería:"https://images.unsplash.com/photo-1492037766660-2a56f9eb3fcb?w=800&q=80",einflix:"https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85?w=800&q=80"},p=r.map(e=>{let t=e.id;if(!t)return null;let o=!e.folderUrl||e.folderUrl.includes("/folders/"),i=e.tags||[],r=i[0]||(o?"Carpeta":"Multimedia");r=r.charAt(0).toUpperCase()+r.slice(1);let s=e.cover||`/api/drive/thumbnail?id=${t}`;if(s.includes("drive.google.com/thumbnail")){let e=i.map(e=>e.toLowerCase());for(let[t,o]of Object.entries(a))if(e.includes(t)){s=o;break}}return{id:t,title:e.title||`Contenido ${t.slice(0,6)}`,category:r,description:e.description||"Sin descripci\xf3n disponible.",type:o?"folder":"video",original:e.folderUrl||`https://drive.google.com/file/d/${t}/view`,preview:o?`https://drive.google.com/embeddedfolderview?id=${t}#grid`:`https://drive.google.com/file/d/${t}/preview`,thumbnail:s}}).filter(Boolean),d=new Set;return(p=p.filter(e=>{let t=d.has(e.id);return d.add(e.id),!t})).sort((e,t)=>e.title.localeCompare(t.title)),s.json(p)}catch(e){return console.error("Error en la API de Catalogo:",e),s.json({error:"Error interno del servidor"},{status:500})}}let d=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/drive/catalogo/route",pathname:"/api/drive/catalogo",filename:"route",bundlePath:"app/api/drive/catalogo/route"},resolvedPagePath:"C:\\einflix\\app\\api\\drive\\catalogo\\route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:c,staticGenerationAsyncStorage:u,serverHooks:m,headerHooks:h,staticGenerationBailout:f}=d,g="/api/drive/catalogo/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[364,798],()=>__webpack_exec__(20583));module.exports=o})();