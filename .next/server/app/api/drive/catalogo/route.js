"use strict";(()=>{var e={};e.id=261,e.ids=[261],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},20583:(e,t,i)=>{i.r(t),i.d(t,{headerHooks:()=>m,originalPathname:()=>f,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>u,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var o={};i.r(o),i.d(o,{GET:()=>GET,dynamic:()=>n}),i(78976);var r=i(10884),a=i(16132);i(95798);var s=i(57147),l=i(71017);let n="force-dynamic";async function GET(){try{let e=l.join(process.cwd(),"data"),t=[];for(let[i,o]of Object.entries({"peliculas.txt":"Pel\xedcula","series.txt":"Serie","comics.txt":"Comic","musica.txt":"M\xfasica","karaoke.txt":"Karaoke","libros.txt":"Libro","otros.txt":"Otros"})){let r=l.join(e,i);if(s.existsSync(r)){let e=s.readFileSync(r,"utf8"),i=e.split("\n").filter(e=>e.trim()),a=i.map(e=>{let t=e.split("|").map(e=>e.trim()),i=t[0]||"",r=i.match(/[-\w]{25,}/),a=r?r[0]:null;return a?{id:a,title:t[1]||`Contenido ${a.slice(0,6)}`,tags:t[2]?[t[2]]:[o],cover:t[3]||null,description:t[4]||"Sin descripci\xf3n disponible.",folderUrl:i}:null}).filter(Boolean);t=t.concat(a)}}if(0===t.length){let i=l.join(e,"drive_links.txt");if(s.existsSync(i)){let e=s.readFileSync(i,"utf8"),o=e.split("\n").filter(e=>e.trim());t=o.map(e=>{let t=e.split("|").map(e=>e.trim()),i=t[0]||"",o=i.match(/[-\w]{25,}/),r=o?o[0]:null;return r?{id:r,title:t[1]||`Contenido ${r.slice(0,6)}`,tags:t[2]?[t[2]]:[],cover:t[3]||null,description:t[4]||"Sin descripci\xf3n disponible.",folderUrl:i}:null}).filter(Boolean)}}let i={pelicula:"https://images.unsplash.com/photo-1485846234645-a62644f84728?w=800&q=80",serie:"https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?w=800&q=80",anime:"https://images.unsplash.com/photo-1578632738980-433120152918?w=800&q=80",novedades:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=800&q=80",maratón:"https://images.unsplash.com/photo-1517604931442-7e0c8ed2963c?w=800&q=80",favoritos:"https://images.unsplash.com/photo-1478720568477-152d9b164e26?w=800&q=80",colección:"https://images.unsplash.com/photo-1461360370896-922624d12aa1?w=800&q=80",streaming:"https://images.unsplash.com/photo-1593784991095-a205069470b6?w=800&q=80",premium:"https://images.unsplash.com/photo-1550745165-9bc0b25272a7?w=800&q=80",biblioteca:"https://images.unsplash.com/photo-1507014498014-97050e8902f2?w=800&q=80",galería:"https://images.unsplash.com/photo-1492037766660-2a56f9eb3fcb?w=800&q=80",einflix:"https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85?w=800&q=80"},o=t.map(e=>{let t=e.id;if(!t)return null;let o=!e.folderUrl||e.folderUrl.includes("/folders/"),r=e.tags||[],a=r[0]||(o?"Carpeta":"Multimedia");a=a.charAt(0).toUpperCase()+a.slice(1);let s=e.cover||`/api/drive/thumbnail?id=${t}`;if(s.includes("drive.google.com/thumbnail")){let e=r.map(e=>e.toLowerCase());for(let[t,o]of Object.entries(i))if(e.includes(t)){s=o;break}}return{id:t,title:e.title||`Contenido ${t.slice(0,6)}`,category:a,description:e.description||"Sin descripci\xf3n disponible.",type:o?"folder":"video",original:o?`https://drive.google.com/embeddedfolderview?id=${t}#grid`:e.folderUrl||`https://drive.google.com/file/d/${t}/view`,preview:o?`https://drive.google.com/embeddedfolderview?id=${t}#grid`:`https://drive.google.com/file/d/${t}/preview`,thumbnail:s}}).filter(Boolean),r=new Set;return(o=o.filter(e=>{let t=r.has(e.id);return r.add(e.id),!t})).sort((e,t)=>e.title.localeCompare(t.title)),new Response(JSON.stringify(o),{headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error en la API de Catalogo:",e),new Response(JSON.stringify({error:"Error interno del servidor"}),{status:500,headers:{"Content-Type":"application/json"}})}}let p=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/drive/catalogo/route",pathname:"/api/drive/catalogo",filename:"route",bundlePath:"app/api/drive/catalogo/route"},resolvedPagePath:"C:\\einflix\\app\\api\\drive\\catalogo\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:u,headerHooks:m,staticGenerationBailout:h}=p,f="/api/drive/catalogo/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),i=t.X(0,[364,798],()=>__webpack_exec__(20583));module.exports=i})();