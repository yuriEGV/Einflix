(()=>{var e={};e.id=790,e.ids=[790],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},83789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=n(67096),r=n(16132),i=n(37284),o=n.n(i),s=n(32564),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);n.d(t,l);let d=["",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,71875)),"C:\\einflix\\app\\payment\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,83497)),"C:\\einflix\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\einflix\\app\\payment\\page.jsx"],p="/payment/page",x={require:n,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56027:(e,t,n)=>{Promise.resolve().then(n.bind(n,77060))},77060:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>PaymentPage});var a=n(30784),r=n(9885),i=n(57114),o=n(11440),s=n.n(o);function PaymentPage(){let[e,t]=(0,r.useState)(!1),[n,o]=(0,r.useState)(""),[l,d]=(0,r.useState)("monthly");(0,i.useRouter)();let handlePayment=async e=>{t(!0),o("");let n="monthly"===l?e.price.monthly:e.price.yearly,a=`Suscripci\xf3n ${e.name} (${"monthly"===l?"Mensual":"Anual"})`;try{let r=await fetch("/api/auth/payment/init",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:n,title:a,planType:e.id,duration:l})}),i=await r.json();i.init_point?window.location.href=i.init_point:(o("No se pudo iniciar el pago. Revisa la consola."),t(!1))}catch(e){o("Error al conectar con la pasarela de pago"),t(!1)}};return(0,a.jsxs)("div",{className:"login-wrapper",children:[a.jsx("div",{className:"login-backdrop"}),a.jsx("header",{className:"header",style:{position:"absolute",background:"transparent",zIndex:10},children:a.jsx("h1",{style:{color:"#D4AF37",fontSize:"3.5rem",fontWeight:"bold",fontFamily:"'Cinzel', serif",letterSpacing:"2px"},children:"EINFLIX"})}),(0,a.jsxs)("div",{className:"login-container",style:{textAlign:"center",maxWidth:"1000px",width:"95%",padding:"40px 20px"},children:[a.jsx("h2",{style:{marginBottom:"10px",fontSize:"2rem"},children:"Elige tu Plan"}),a.jsx("p",{style:{color:"#ccc",marginBottom:"30px",fontSize:"1.1rem"},children:"Selecciona el plan perfecto para ti."}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"40px"},children:[a.jsx("button",{onClick:()=>d("monthly"),className:`btn ${"monthly"===l?"btn-red":"btn-dark"}`,style:{padding:"10px 20px",border:"monthly"===l?"none":"1px solid #555"},children:"Mensual"}),a.jsx("button",{onClick:()=>d("yearly"),className:`btn ${"yearly"===l?"btn-red":"btn-dark"}`,style:{padding:"10px 20px",border:"yearly"===l?"none":"1px solid #555"},children:"Anual (Ahorra ~2 meses)"})]}),a.jsx("div",{className:"plans-grid",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px"},children:[{id:"basic",name:"Einflix B\xe1sico",desc:"S\xf3lo Libros",price:{monthly:1e3,yearly:1e4},features:["Acceso a Biblioteca","S\xf3lo Texto"]},{id:"medium",name:"Einflix Medium",desc:"Pel\xedculas y Series",price:{monthly:2500,yearly:25e3},features:["Pel\xedculas","Series","Calidad HD"]},{id:"total",name:"Einflix Total",desc:"Todo incluido",price:{monthly:3e3,yearly:3e4},features:["Todo el cat\xe1logo","M\xfasica y Karaoke","Calidad 4K","Soporte Prioritario"],recommended:!0}].map(t=>(0,a.jsxs)("div",{style:{backgroundColor:t.recommended?"rgba(229, 9, 20, 0.1)":"rgba(0,0,0,0.7)",border:t.recommended?"2px solid #D4AF37":"1px solid #333",borderRadius:"8px",padding:"30px",flex:"1 1 280px",maxWidth:"320px",display:"flex",flexDirection:"column"},children:[t.recommended&&a.jsx("span",{style:{color:"#D4AF37",fontWeight:"bold",marginBottom:"10px",display:"block"},children:"RECOMENDADO"}),a.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"10px"},children:t.name}),a.jsx("p",{style:{color:"#aaa",minHeight:"40px"},children:t.desc}),(0,a.jsxs)("div",{style:{margin:"20px 0"},children:[(0,a.jsxs)("span",{style:{fontSize:"2.5rem",fontWeight:"bold"},children:["$",("monthly"===l?t.price.monthly:t.price.yearly).toLocaleString("es-CL")]}),(0,a.jsxs)("span",{style:{color:"#777"},children:[" / ","monthly"===l?"mes":"a\xf1o"]})]}),a.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"30px",textAlign:"left",flexGrow:1},children:t.features.map((e,t)=>(0,a.jsxs)("li",{style:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[a.jsx("span",{style:{color:"#D4AF37",marginRight:"10px"},children:"âœ“"})," ",e]},t))}),a.jsx("button",{onClick:()=>handlePayment(t),className:"login-btn",disabled:e,style:{width:"100%",marginTop:"auto"},children:e?"Cargando...":"Elegir Plan"})]},t.id))}),n&&a.jsx("div",{className:"error-message",style:{marginTop:"20px"},children:n}),a.jsx("div",{className:"login-footer",style:{marginTop:"40px"},children:a.jsx(s(),{href:"/login",style:{color:"#737373",textDecoration:"none"},children:"Volver al inicio"})})]})]})}},71875:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>l});var a=n(95153);let r=(0,a.createProxy)(String.raw`C:\einflix\app\payment\page.jsx`),{__esModule:i,$$typeof:o}=r,s=r.default,l=s},30784:(e,t,n)=>{"use strict";e.exports=n(10316).vendored["react-ssr"].ReactJsxRuntime},11440:(e,t,n)=>{e.exports=n(30614)},57114:(e,t,n)=>{e.exports=n(4979)}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),n=t.X(0,[472,614,137],()=>__webpack_exec__(83789));module.exports=n})();