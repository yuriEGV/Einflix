(()=>{var e={};e.id=363,e.ids=[363],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},44064:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var t=s(67096),a=s(16132),n=s(37284),o=s.n(n),i=s(32564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let c=["",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50186)),"C:\\einflix\\app\\reset-password\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,83497)),"C:\\einflix\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\einflix\\app\\reset-password\\page.jsx"],p="/reset-password/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reset-password/page",pathname:"/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},80905:(e,r,s)=>{Promise.resolve().then(s.bind(s,59184))},59184:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>ResetPasswordPage});var t=s(30784),a=s(9885),n=s(57114),o=s(11440),i=s.n(o);function ResetPasswordPage(){let[e,r]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,p]=(0,a.useState)(""),[u,x]=(0,a.useState)(!1),h=(0,n.useSearchParams)(),m=(0,n.useRouter)(),g=h.get("token"),handleSubmit=async r=>{if(r.preventDefault(),e!==s){p("Las contrase\xf1as no coinciden");return}x(!0),p(""),c("");try{let r=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:g,password:e})}),s=await r.json();s.success?(c("Tu contrase\xf1a ha sido actualizada. Ser\xe1s redirigido al inicio de sesi\xf3n."),setTimeout(()=>{m.push("/login")},3e3)):p(s.message||"Error al restablecer contrase\xf1a")}catch(e){p("Error de conexi\xf3n con el servidor")}finally{x(!1)}};return g?(0,t.jsxs)("div",{className:"login-wrapper",children:[t.jsx("div",{className:"login-backdrop"}),t.jsx("header",{className:"header",style:{position:"absolute",background:"transparent"},children:t.jsx(i(),{href:"/",style:{textDecoration:"none"},children:t.jsx("h1",{style:{color:"#D4AF37",fontSize:"3.5rem",fontWeight:"bold",fontFamily:"'Cinzel', serif",letterSpacing:"2px"},children:"EINFLIX"})})}),t.jsx("div",{className:"login-container",children:(0,t.jsxs)("form",{className:"login-form",onSubmit:handleSubmit,children:[t.jsx("h2",{children:"Nueva Contrase\xf1a"}),t.jsx("p",{style:{color:"#ccc",marginBottom:"20px",fontSize:"0.9rem"},children:"Introduce tu nueva contrase\xf1a a continuaci\xf3n."}),d&&t.jsx("div",{className:"error-message",children:d}),l&&t.jsx("div",{style:{backgroundColor:"#46d369",color:"white",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:l}),t.jsx("div",{className:"input-group",children:t.jsx("input",{type:"password",placeholder:"Nueva contrase\xf1a",value:e,onChange:e=>r(e.target.value),required:!0,minLength:6})}),t.jsx("div",{className:"input-group",children:t.jsx("input",{type:"password",placeholder:"Confirmar nueva contrase\xf1a",value:s,onChange:e=>o(e.target.value),required:!0,minLength:6})}),t.jsx("button",{type:"submit",className:"login-btn",disabled:u,children:u?"Guardando...":"Cambiar Contrase\xf1a"}),t.jsx("div",{className:"login-footer",children:t.jsx(i(),{href:"/login",style:{color:"white"},children:"Volver al inicio de sesi\xf3n"})})]})})]}):t.jsx("div",{className:"login-wrapper",children:(0,t.jsxs)("div",{className:"login-container",children:[t.jsx("h2",{style:{color:"#D4AF37"},children:"Token Inv\xe1lido"}),t.jsx("p",{children:"Falta el token de recuperaci\xf3n en la URL."}),t.jsx(i(),{href:"/forgot-password",style:{color:"white",marginTop:"20px",display:"block"},children:"Solicitar nuevo enlace"})]})})}},50186:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var t=s(95153);let a=(0,t.createProxy)(String.raw`C:\einflix\app\reset-password\page.jsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=i},30784:(e,r,s)=>{"use strict";e.exports=s(10316).vendored["react-ssr"].ReactJsxRuntime},11440:(e,r,s)=>{e.exports=s(30614)},57114:(e,r,s)=>{e.exports=s(4979)}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[472,614,137],()=>__webpack_exec__(44064));module.exports=s})();