{
  "info": {
    "name": "Einflix API – Dataset y pruebas automáticas",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Registro de usuario (fuerza collección users)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/users/register",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "register"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"username\":\"prueba\",\"email\":\"prueba@einflix.com\",\"password\":\"testeinflix123\"}"
        }
      }
    },
    {
      "name": "Login de usuario",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/users/login",
          "host": ["{{baseUrl}}"],
          "path": ["api", "users", "login"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"email\":\"prueba@einflix.com\",\"password\":\"testeinflix123\"}"
        }
      }
    },
    {
      "name": "Crear media de prueba (fuerza colección media)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/media",
          "host": ["{{baseUrl}}"],
          "path": ["api", "media"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"title\":\"Demo video\",\"type\":\"video\",\"description\":\"Un video de test\",\"url\":\"https://einflix.com/media/demo.mp4\"}"
        }
      }
    },
    {
      "name": "Crear transacción de pago Webpay (fuerza colección pagos)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/payments/iniciar",
          "host": ["{{baseUrl}}"],
          "path": ["api", "payments", "iniciar"]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"buy_order\":\"TESTORDER-123\",\"session_id\":\"SESION-1\",\"amount\":1000,\"return_url\":\"https://einflix.com/webpay-retorno\"}"
        }
      }
    },
    {
      "name": "Hacer un streaming de video (fuerza prueba de video streaming)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Range", "value": "bytes=0-" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/stream/demo.mp4",
          "host": ["{{baseUrl}}"],
          "path": ["api", "stream", "demo.mp4"]
        }
      }
    }
  ]
}